/*!
 * PENTAHO CORPORATION PROPRIETARY AND CONFIDENTIAL
 *
 * Copyright 2002 - 2014 Pentaho Corporation (Pentaho). All rights reserved.
 *
 * NOTICE: All information including source code contained herein is, and
 * remains the sole property of Pentaho and its licensors. The intellectual
 * and technical concepts contained herein are proprietary and confidential
 * to, and are trade secrets of Pentaho and may be covered by U.S. and foreign
 * patents, or patents in process, and are protected by trade secret and
 * copyright laws. The receipt or possession of this source code and/or related
 * information does not convey or imply any rights to reproduce, disclose or
 * distribute its contents, or to manufacture, use, or sell anything that it
 * may describe, in whole or in part. Any reproduction, modification, distribution,
 * or public display of this information without the express written authorization
 * from Pentaho is strictly prohibited and in violation of applicable laws and
 * international treaties. Access to the source code contained herein is strictly
 * prohibited to anyone except those individuals and entities who have executed
 * confidentiality and non-disclosure agreements or other agreements with Pentaho,
 * explicitly covering such access.
 */

// Global variables
var pentaho = {
  visualizations: []
};

pentaho.visualizations.getById = function(id){
  for(var i = 0; i < this.length ; i++){
    if(this[i].id == id) { return this[i]; }
  }
  return null;
};

var noopFun = function(){};
var analyzer = {
  ColorConfiguration: noopFun,
  CCCVizHelper:       noopFun
};

var dojo = {
  forEach: noopFun,
  declare: noopFun,
  require: noopFun
};

lib('cgg-env.js');

cgg.init();

// Additional AMD configurations
require.config({
  paths: {'common-ui': 'res:../../common-ui/resources/web'}
});

// ccc_wrapper.js et al use pen.define/pen.require shims.
var pen = {
  require: require,
  define:  define
};

// Publish CCC, protovis and jquery in global scope.
require(['ccc!', 'jquery'], function(ccc, _$) {
  pv  = ccc.pv;
  pvc = ccc.pvc;
  cdo = ccc.cdo;
  def = ccc.def;

  jQuery = $ = _$;

  def.setDebug(cgg.debug);
});

// Register ccc modules in the namespaces where ccc_wrapper expects them to be.
// (NOTE: an AMD "map" config. wouldn't work because it cannot introduce a plugin call "!"...)
define("cdf/lib/CCC/def",      function() { return def; });
define("cdf/lib/CCC/cdo",      function() { return cdo; });
define("cdf/lib/CCC/pvc-d1.0", function() { return pvc; });
define("cdf/lib/CCC/protovis", function() { return pv;  });

// Required by ccc_analyzer_plugin.js
define("pentaho/common/Messages", noopFun);
define("dojo/_base/declare",      noopFun);
define("dojo/_base/array",        noopFun);

var cvCatalog = {"fieldListView":"View","filterTitleSingular":"%{0} Filter","popupMenuAttributeEdit":"Edit...","dlgPageSetupExcelPageFormatEnvelopeCS":"Envelope CS","dlgSummaryEditPctRSUMCols":"Sum Across All Columns","dropZoneLabels_SORT_TYPE_BYSIZEASCENDING":"Sort Ascending","dlgNumberSubtotalMax":"Max","metricRANK":"Rank by %{0}","filterSelectionSummaryAll":"%{0} values selected","errorColumnSelectionFilters":"Levels cannot be added to the Columns zone when the report contains selection filters.  Please remove the Custom Selection Items or add the Level to the Rows zone.   ","chartTooltipGemInterp_zero":"(empty treated as zero)","btnTitleShowFilters":"Show all filters in use and add new filters (Ctrl+Alt+T)","filterPresetTIME_YEAR_0":"Current Year","filterPresetTIME_YEAR_1":"Next Year","dlgAttributeFilterContains":"Contains","dlgCalcNumSubtotalCalc":"Subtotal Calculation","popupMenuNumberEdit":"Edit","dropZoneLabels_PIVOT_FULL_COL":"Columns","dlgChartPropsMultiChartTitle":"Multi-Charts","FilterPresetTIME_QUARTER0_1":"Current and Next Qtr","dlgAboutFieldType":"Type","reportTableCountValue":"%{0} out of %{1}","popupMenuBySchema":"Schema","dlgCSVDownloadSubtotals":"Include Subtotals","filterOpString_NOT_CONTAIN":"Not Contain","dlgPageSetupExcelPageFormatEnvelopeDL":"Envelope DL","dlgSelectionFilterTitleINCLUDE":"Keep Only Selection Items","dlgNumberSubtotalsLabel":"For <b>%{0}<\/b>, show these <b>types of totals","filterSummBETWEEN":"is between (and includes) %{0} and %{1}","filterPresetTIME_QUARTER_n1a0":"Current & Previous Qtr","dlgPageSetupPdfPageFormatTabloid":"Tabloid","dlgPageSetupPdfPageFormatExecutive":"Executive","popupMenuFilterAdd":"Add Filter...","RendererTrendShowing":"This measure is a trend measure showing {0} {1} from {2} {3}.","btnLabelReset":"Reset Report","dlgChartPropsLegendPosTop":"Top","MissingCubeHelp":"Unable to find cube: {0} in Mondrian schema: {1}      ","dlgErrEmptyReportName":"<span class='dlgError'>Report name cannot be empty.<\/span>","dropZoneLabels_SORT_TYPE":"Order By:","menuHideGrandTotalCol":"Hide Grand Totals for Columns","filterPresetTIME_MONTH_n1a0":"Current & Previous Month","dropZoneLabels_BOXPLOT_PCT50":"Median","progressSaveReport":"Saving report ...","reportLegendTooLarge":"The multi-chart legend is too large to fit in this space.  Please hide the legend or position it at the top or bottom of this report.","filterPresetTIME_WEEK_n1":"Previous Week","dlgInfoNonvisualTotal":"<span class='dlgInfo'>Totals include items excluded from the report by filters.<\/span>","dlgPageSetupExcelTitle":"Export to Excel","dlgAttributeFilterAhead":"ahead","popupMenuTotalsNonVisual":"Display Totals that Includes Filtered Out Values","filterSummR_3_n1":"previous %{0}","reportAdminActionXML":"XML","filterPresetTIME_WEEK_0":"Current Week","filterPresetTIME_WEEK_1":"Next Week","popupMenuCondFormatColorScaleBYR":"Color Scale: Blue-Yellow-Red","RendererAcrossAllCols":"across all columns","dlgNumericFilterFilterOn":"Filter on","dlgSummaryEditRSUMCols":"Sum Across All Columns","dlgPageSetupPdfPageFormatA4":"A4","RendererAcrossAllRows":"across all rows","dropZoneLabels_COLUMN_LABEL_ANCHOR_INSIDE_END":"Inside End","dlgAttributeFilterTimeLabel":"Choose a commonly used time period","tabName":"Analysis Report","dlgPageSetupPdfPageFormatA5":"A5","AccessDeniedAdministrator":"You must be a Pentaho administrator to access this functionality.","dlgPageSetupPdfPageFormatA3":"A3","actionRemoveSelectionFilters":"Remove Filters on Selection Items","ttSwitchToChart":"Switch to chart format (Ctrl+Alt+C)","reportDashboardActions":"Actions","dlgDatePickerDateFormatError":"Please input a valid date in YYYY-MM-DD format.","FilterSummNOT_EQUAL":"excludes {0}","fieldTypes_TIME_HOUR":"Time - Hour","VIZ_STACKED_AREA":"Area","ReportErrorTrendAboveNonVisualFilter":"A report cannot contain a non visual filter at a level ({0}) lower than the trend level({1}). The filter or the trend shall be removed.","dlgDatePickerNearbyInfo":"Your data does not contain any %{0} values on %{1} so the nearest %{0} %{2} on %{3} was selected.  ","filterOpString_CONTAIN":"Contain","metricPCTRSUM":"% of Running Sum of %{0}","actionShowPivot":"Showing as Pivot Table","linkDlgType":"Link To","RendererGrand":"Grand","actionKEEP_AND_DRILL":"Keeping only %{0} and showing %{1}","RendererExcelTableTooBig":"Unable to render report table. The table may not contain more than {0} columns or more than {1} rows.","RendererCreator":"Report Creator:","dropZoneLabels_HEATGRID_SIZE":"Size By","popupMenuNumberShowOnChart":"Show on Chart","dlgAttributeFilterAnd":"and","linkDlgParamValue":"Value to Use","dlgReportOptionsTitle":"Report Options","infoMergeFilter":"The report already has a filter of type \"%{0}\" on %{1}. The two filters have been combined into one filter.","dlgAttributeFilterIs":"Is","dlgSummaryEditPctRSUM":"% of Running Sum of","dropZoneLabels_BOXPLOT_PCT05":"5% Percentil","promptDirtyReport":"There are unsaved changes for this report. If you leave this page, the unsaved changes will be lost.","btnReportHelp":"Help","dlgChartPropsBackgroundFillTypeGradient":"Gradient","VIZ_VERTICAL_BAR":"Column","dropZoneLabels_REPORT_OPTIONS":"Report Options...","ExceededMaxChartValues":"Your chart contains too many values, only the first {0} have been displayed.  You can increase this limit by updating Max Number of Plot Values in Chart Options.","RendererTrendAhead":"Ahead","filterMatchesSummaryAll":"Showing all %{0} matches","dlgAttributeFilterPrevious":"Previous","dlgErrNameRequired":"<span class='dlgError'>Name is a required field.<\/span>","dlgPageSetupFitTo":"Fit to:","dlgAttributeFilterAfter":"After","VIZ_TREEMAP":"Treemap","dropZoneLabels_BOXPLOT_ROW":"X-Axis","FilterPresetTIME_MONTH__1":"Previous Month","FilterPresetTIME_MONTH0_1":"Current and Next Month","dlgAttributeFilterNoValuesSelected":"0 value selected","popupMenuExportPDF":"To PDF...","errprFilterMaxMembers":"You have reached the limit of %{0} values in the filter.","dropZoneLabels_PCT_STACKED_HORIZONTAL_BAR_NUM":"Measures","ttDisableAutoRefresh":"Disable auto refresh","popupMenuActionExport":"Export","dropZoneLabels_STACKED_VERTICAL_BAR_ROW":"X-Axis","dropZoneLabels_BOXPLOT_PCT25":"25% Percentil","dropZoneLabels_SORT_TYPE_BYSIZEDESCENDING":"Sort Descending","dropZoneLabels_TREND_TYPE":"Trend Type","dlgDatePickerDateRangeError":"Begin Date must be before End Date.","dropZoneLabels_PIVOT_COL":"Columns","btnClearSelections":"Clear Selections","VIZ_BOXPLOT":"Box plot","RendererNoDescription":"No Description","dlgChartOption_UNITS_6":"Millions","dlgChartOption_UNITS_5":"100000","dlgChartOption_UNITS_4":"10000","errorRenameReport":"Before renaming this report you need to save its changes.<br> Would you like to save changes now?","dlgChartOption_UNITS_3":"Thousands","filterSummCONTAIN":"contains %{0}","dlgChartOption_UNITS_2":"Hundreds","dlgChartOption_UNITS_0":"None","btnTitleHideLayout":"Hide layout panel (Ctrl+Alt+Y)","filterSummMetricTOP":"<b>Top %{COUNT}<\/b> %{ATTR} by %{METRIC}","VIZ_PIVOT":"Table","actionChartProps":"Updating Chart Options","dropZoneLabels_VALUE_POSITION_INSIDE":"Inside","dlgAttributeFilterIsNot":"Is Not","filterSummTIME_AHEAD":"includes %{0} %{1} ahead","FilterSummMetricBOTTOM":"Bottom {2} {1} by {0}","colTruncate":"Showing %{0} columns. Add more filters to reduce the number of columns.<br>To see all columns, download the report to Excel or PDF files.","dlgErrTrendNumberAmountNumberExpected":"<span class='dlgError'>A positive integer value is expected for the lead or lag amount.<\/span>","dlgPageSetupDoneTitle":"Save settings to report and close this dialog","dropZoneLabels_VERTICAL_BAR_ROW":"X-Axis ","dlgErrFilterLastCondition":"<span class='dlgError'>There has to be at least one condition in \"Greater/Less Than, Equal to, etc.\".<\/span>","FilterSummMetricNOT_EQUAL":"{0} is not equal to {2} for each {1}","dlgSummaryEditPctOfRowGrand":"Row (Grand Total Row is 100%)","fieldListCount":"Matching %{0} fields","linkDlgOpenNew":"New Window","dropZonePlaceholder_number":"Drop Measure Here","dlgPageSetupExcelPageFormatLetter":"Letter","RendererAcrossColFields":"across column fields (Grand Total Column is 100%)","btnTitleHelp":"Get help on this topic","dlgChartPropsLabelsFontSize":"Font Size","filterSummZoneNone":"<div class='filterPaneHint'>No filter has been defined.<\/div>","filterPresetTIME_YEAR_n1":"Previous Year","InvalidLicense":"Analysis is currently unavailable. Please contact your Administrator.","filterPresetTIME_DATE_n1":"yesterday","errorNoFieldForTrend":"A Level or Time Field is required to be present on the report in order to create a Trend Measure.","popupMenuCondFormatDataBarBlue":"Data Bar: Blue","dlgTrendNumberTitle":"New Trend Measure","dlgSharedErrorPositiveInteger":"Please specify a positive numeric value with no decimals","dropZoneLabels_WATERFALL_NUM":"Measures","ReportErrorSortOnRSUM":"Sorting on a Running Sum measure or measure derived from a Running Sum is not supported. Your last change has been undone.","dropZoneLabels_COLUMN_LABEL_ANCHOR_OUTSIDE_END":"Outside End","dlgSharedName":"Name","btnLabelShowLayout":"Show Field Layout","FilterPresetTIME_DATE0":"Today","dropZoneLabels_MULTI_CHART":"Multi-Chart","FilterPresetTIME_DATE1":"Tomorrow","chartTooltipFooterDrillDown":"Double-click to show %{0}","VIZ_PCT_STACKED_HORIZONTAL_BAR_DESC":"100% Stacked Bar Chart","linkDlgURL":"URL","selectSchemaDataSource":"Data Sources","SchemaOptionNewDataSource":"Create New Data Source","dropZoneLabels_GRID_LINE_NUM":"Measures","dropZoneLabels_PATTERN":"Pattern","btnSelectionKeepOnly":"Keep Only","btnSelectionExclude":"Exclude","dlgChartPropsLineWidth":"Line Width","dlgPageSetupExcelPageFormatA4":"A4","dropZoneLabels_TREND_NAME":"Name","dropZoneLabels_MULTIPLE_PIE_ROW":"Slices","dlgPageSetupExcelPageFormatA5":"A5","filterSummNOT_CONTAIN":"contains no %{0}","filterConditionOperators_LESS_THAN_EQUAL":"Less Than or Equals","RendererBreakBy":"breaking by {0}","RendererAcrossRowFields":"across row fields (Grand Total Row is 100%)","dlgErrFilterConditionNumberExpected":"<span class='dlgError'>Numeric values are expected for operands in \"Greater/Less Than, Equal to, etc.\".<\/span>","dropZoneLabels_SORT_TYPE_NONE":"Sort by Layout","RendererAcrossBothRowCol":"across both row and column fields (Table Grand Total is 100%)","dlgChartPropsAxisStart":"Start","menuMembKEEP":"Keep Only <b>%{0}<\/b>","popupMenuCondFormatDataBarRed":"Data Bar: Red","adminOpenLog":"Open Log","dlgTrendNumberNote":"Note","attributeBlankValue":"Not Available: spaces etc.","btnLabelNext":"Next","menuMembEXCLUDE":"Exclude <b>%{0}<\/b>","filterTitlePlural":"%{0} Filters","filterSummNOT_EQUAL":"excludes %{0}","errorReportDefinition":"There is an error in report definition.","actionRptFilter":"In-Table Filtering","errorRemoveWithTrendOnAncestor":"In a report that trends over <b>%{1}<\/b> and has a filter over <b>%{0}<\/b>, <b>%{0}<\/b> must be included in the report. Please remove the filter or the trend measure <b>%{2}<\/b> before removing <b>%{0}<\/b> from the report.","ReportErrorTrendOnSummary":"A trend measure can not be built directly or indirectly on summary metric: % of, Rank, Running sum etc. The trend being added is based on summary metrics. This trend measure will be removed.","FilterSummMetricGREATER_THAN":"{0} is greater than {2} for each {1}","FilterSummMetricLESS_THAN":"{0} is less than {2} for each {1}","attributeNullValue":"Not Available","ReportLimitException":"Oops. There is too much number crunching required to run your report. If you are using an \"Excludes\" or \"Doesn''t Contain\" filter, try removing or flipping them to \"Include\" or \"Contains\" filter. You can also try turning off subtotals, grand totals and empty cells. ","FilterSummNOT_CONTAIN":"contains no {0}","errorRptTooltipLoad":"Failed to open report information.","filterSummMetricLESS_THAN":"<b>%{METRIC}<\/b> is less than %{OP1} for each %{ATTR}","metricEXPRESSION":"Calculated Measure %{0}","btnTitleShowFields":"Add more fields onto the report (Ctrl+Alt+F)","filterSummBEFORE":"is before (and includes) %{0}","errorAddFilterWithTrendOnAncestor":"This report includes a trend measure <b>%{2}<\/b> over <b>%{1}<\/b>. To filter on <b>%{0}<\/b> in this report, please add <b>%{0}<\/b> to the report first.","dropZoneLabels_MULTIPLE_PIE_NUM":"Measures","filterSummR_3_1":"next %{0}","dlgSummaryNewChooseType":"Choose the measure field that you want to create","filterSummR_3_0":"current %{0}","dropZoneLabels_COLUMN_LABEL_ANCHOR_INSIDE_BASE":"Inside Base","dlgPageSetupPdfPageFormatB4":"B4","menuHideFromChart":"Hide from Chart","fieldTooltipNone":"No description available.","dlgPageSetupPdfPageFormatB5":"B5","parameterUiPDF":"PDF","filterPresetTIME_MONTH_0a1a2a3":"Current & Next 3 Months","fieldListAvailableFieldFor":"for","errorLoadFolderList":"Cannot save report because no folder has been loaded from the server.","RendererTrendBack":"Back","filterSummarySelectionItems":"Custom Selection Items","dropZoneLabels_HORIZONTAL_BAR_NUM":"Measures","dlgErrFilterRankNumberExpected":"<span class='dlgError'>A positive integer value is expected for the operand in \"Top 10, etc.\".<\/span>","dlgAttributeFilterShowAllValues":"Showing all values","FilterSummTIME_PREVIOUS":"previous {0}","RendererCalculatedBasedOn":"This measure is calculated based on the following formula: {0}.","FilterSummBEFORE":"is before {0}","filterValuesSummaryPartialFirst":"Showing first %{0} values","actionCancel":"Canceling Report","dlgReportOptionsEmptyCellsOption":"Also show Rows/Columns where the Measure cell is blank","dlgAttributeFilterAgo":"ago","dlgReportPropsModifiedBy":"Modified By","actionAddCondFormat":"Adding Conditional Formatting on %{0}","dropZoneLabels_TREEMAP_ROW":"Data Points","btnTitleHideFields":"Hide list of available fields (Ctrl+Alt+F)","popupMenuActionAdmin":"Administration","reportErrorTicket":"Oops. There was an error. If this happens again, please contact your Administrator (Message Id: %{1})","ropZoneLabels_GRAD_RYB":"Red, Yellow, Blue","dropZoneLabels_VERTICAL_BAR_NUM":"Measures","errorDisabledSort":"Reports that contain Running Sums or % Running Sums cannot be sorted.","popupMenuNumberHideFromChart":"Hide from Chart","dropZoneLabels_PCT_STACKED_VERTICAL_BAR_COL":"Color Stack ","rowTruncate":"Showing %{0} rows. Add more filters to reduce the number of rows.<br>To see all rows, download the report to Excel or PDF files.","dropZoneLabels_TREND_LINEWIDTH":"Trend Line Width","dlgAttributeFilterSelectLabel":"Select from a list","popupMenuViewerShowRowGrand":"Show Grand Totals for Rows","popupMenuTotalsHide":"Hide Grand Total","dropZoneLabels_SCATTER_ROW":"Points","dlgAttributeFilterMatchLabel":"Match a specific string","VIZ_VERTICAL_BAR_LINE":"Column-Line Combo","dropZoneLabels_EMPTY_SLICES":"Empty Slices:","dlgAboutFieldMemberProps":"Member Properties","DisabledClearViewSorting":"Your report may have been re-sorted due to Running Sum or % of Running Sum.","actionRemoveCondFormat":"Removing Conditional Formatting on %{0}","dlgChartPropsLabelsFontColor":"Color","dropZoneLabels_5_STEP":"5 Steps","filterValuesSummarySingle":"Showing %{0} value","dlgChartPropsBulletNone":"None","dlgChartPropsBackColor":"Specify Color","filterMetric":"Numeric Filter","actionEXCLUDE":"Excluding %{0}","FilterPresetTIME_DATE0_1":"Today and Tomorrow","RendererReportName":"Report Name:","toolbarOpen":"Open existing report","filterPresetTIME_MONTH_n1":"Previous Month","FilterPresetTIME_QUARTER0":"Current Qtr","popupMenuNumberSwapMeasure":"Swap Chart Measure","dropZoneLabels_GRADIENT":"Gradient","dlgAttributeFilterIncludes":"Includes","dlgAttributeFilterTooManyValues":"Due to large number of values, only the first %{0} have been shown.","ANALYZER_EXPORT_BY":"\nBy ","dlgAttributeFilterExcludes":"Excludes","RendererDescription":"Description:","dropZoneLabels_GRAD_RYG":"Red, Yellow, Green","dlgChartPropsBulletSquare":"Square","FilterPresetTIME_QUARTER1":"Next Qtr","filterConditionOperators_EQUAL":"Equals ","popupMenuActionChartProps":"Chart Options...","RendererFieldsUsed":"Fields Used","dlgChartPropsLabelStyleTypeNormal":"Normal","VIZ_STACKED_HORIZONTAL_BAR":"Stacked Bar","actionOpenReport":"Opening Report","Launcher.ANALYZER_TOOLTIP":"New Analyzer Report","btnLabelHideFields":"Hide Field List","filterConditionOperators_IS_NOT_EMPTY":"Is Not Empty","infoCacheCleared":"Analyzer and Mondrian caches have been cleared.","dropZoneLabels_STACKED_HORIZONTAL_BAR_COL":"Color Stack","dlgEditColumnMDXFormatExp":"MDX Format Expression","dropZoneLabels_GRID_AREA_ROW":"X-axis","FilterSummMetricTOP":"Top {2} {1} by {0}","fieldTypes_NUMBER":"Measure","errorAddTrendWithFilterOnChild":"This report includes a filter over <b>%{0}<\/b>. To trend over <b>%{1}<\/b> in this report, please add <b>%{0}<\/b> to the report first.","VIZ_LEGACY":"Legacy","adminExecuteMDX":"Execute MDX","dlgSummaryNewTitle":"New % of, Rank, Running Sum, etc.","errorBreakFieldHierarchy":"<b>%{0}<\/b> has to be on the same axis as <b>%{1}<\/b>.","dlgPageSetupOrientation":"Orientation","toolbarBack":"Return to previous page","filterTemplate":"<div class='filterGroup'><\/div>","FilterPresetTIME_YEAR0_1":"Current and Next Year","RendererCube":"Cube:","reportViewAs":"View As:","VIZ_PIVOT_DESC":"Table","LicenseErrorTitle":"Sorry. We really did try.","dlgChartLegendBackgroundColor":"Background Color","dlgAttributeFilterExcluded":"Excluded","VIZ_STACKED_AREA_DESC":"Area Chart ","popupMenuCondFormatColorScaleRYB":"Color Scale: Red-Yellow-Blue","dlgAttributeFilterIncluded":"Included","promptDirtyReportForEmail":"There are unsaved changes for this report. If you leave this page, the unsaved changes will be lost. Any email you send will reflect only the most recently saved changes.","popupMenuCondFormatColorScaleRYG":"Color Scale: Red-Yellow-Green","FilterSummDATE_CURRENT":"today","fieldTypeLabels_TIME":"Time","dlgChartPropsMultiChartRangeScope_GLOBAL":"Same range for all","dropZoneLabels_SCATTER_COL":"Color By","filterConditionOperators_NOT_EQUAL":"Not Equal to","toolbarSave":"Save current report","dlgSummaryEditRankRows":"Rank Across Rows","popupMenuViewerShowColGrand":"Show Grand Totals for Columns","dlgChartPropsMaxChartsPerRow":"Charts Per Row","dropZoneLabels_WATERFALL_ROW":"X-Axis","FilterPresetTIME_QUARTER0_1_2_3":"Current and Next 3 Qtrs","dlgAttributeFilterRangeLabel":"Select a range","dlgChartPropsLegendPosLeft":"Left","dropZoneLabels_VALUE_LINE_ANCHOR":"Line Data Labels:","dlgCSVDownloadDownload":"Export","dlgSharedNumFormatDefault":"Default","filterConditionOperators_BETWEEN":"Between ","dlgNullSelection":"-Select-","dropZoneLabels_CROSS":"Cross","dropZoneLabels_VERTICAL_BAR_LINE_COL":"Series ","FilterSummEQUAL":"includes {0}","dlgFilterListTitle":"Edit Filters on %{0}","FilterSummTIME_AHEAD":"{0} {1} ahead","editColumn":"Edit Column","errorMissingCubeMetadata":"Unable to open report because either the data source name has been changed or you do not have access to the data source.<br><br>Details: {0}","dlgNumericFilterTitle":"Numeric Filter","dlgSummaryEditRSUM":"Running Sum of","dlgNumericFilterAddCondition":"Add Condition","metricPCTOF":"% of %{0}","FilterSummTIME_CURRENT":"current {0}","metricNewSummary":"New %{0}","linkDlgEnable":"Enable Link","dlgPageSetupPdfPageFormatPostcard":"Postcard","filterSummTIME_RANGE_PREV":"includes previous %{0} %{1}","FilterSummMetricBETWEEN":"{0} is between {2} and {3} for each {1}","dropZoneLabels_STACKED_HORIZONTAL_BAR_NUM":"Measures","FilterSummTIME_RANGE_PREV":"previous {0} {1}","popupMenuByNumberTextTime":"Measure - Level - Time","dlgDatePickerDateEnd":"End Date","popupMenuAttributeShowProps":"Show Properties","ReportErrorPCTSummaryRestriction":"Oops! You have built a report that this version of Pentaho is unable to run due to the {0} measure based on a {1} measure. Your last change will be undone.","reportNoDataMsg":"This report has no data.","actionShowSubtotal":"Showing Subtotal for %{0}","popupMenuExportCSV":"To CSV...","dropZoneLabels_PIVOT_FULL_NUM":"Measures","dlgChartPropsBackgroundFillTypeSolid":"Solid","FilterSummDetailed":"{0} values. The first {1} values are: {2}","filterOpString_NOT_EQUAL":"Exclude","dlgTitleRenameReport":"Rename Report","dlgReportOptionsTotals":"Totals","dropZoneLabels_COLORSET_REVERSE":"Reverse Colors","ttEditDatasource":"Edit Datasource","dlgAboutFieldTitle":"About %{0}","successRenameReport":"Report was renamed.","dropZoneLabels_STACKED_AREA_COL":"Series","dlgChartPropsBackgroundColorEnd":"End Color","filterSummTIME_RANGE_NEXT":"includes next %{0} %{1}","errorNoAttributeInReport":"To create a numeric filter, the report first needs at least one level field (Time Periods, Names, Categories, etc.).","FilterSummMetricIS_NOT_EMPTY":"{0} is not empty for each {1}","VIZ_STACKED_HORIZONTAL_BAR_DESC":"Stacked Bar Chart","FilterPresetTIME_QUARTER__4_0":"Current and Same Qtr Year Ago","VIZ_SUNBURST":"Sunburst","dlgPageSetupLandscape":"Landscape","dlgChartPropsAxisUnits":"Scale","ttFilterLocked":"Filter locked","fieldListAll":"Showing All Fields","fieldTypes_TIME_DATE":"Time - Date ","dlgReportXMLDesc":"Copy or edit the report definition XML document below","reportAdminEmptyLog":"<h1>The query log is empty. Please note that only the last report executed by a system user will be logged.<\/h1>","dlgChartPropsLineBullet":"Bullet Style","filterConditionOperators_GREATER_THAN_EQUAL":"Greater Than or Equals","filterPresetTIME_QUARTER_1":"Next Qtr","reportErrorMsg":"Oops. There was an error. Please check your internet connection, or contact your administrator.","filterPresetTIME_QUARTER_0":"Current Qtr","FilterPresetTIME_WEEK0_1_2_3":"Current and Next 3 Weeks","dlgChartPropsDomainMaxValues":"Max Number of Plot Values","fieldListAvailableField":"Available fields","exceptionGenerateReport":"Failed to refresh report. Please see report area below for more information.","filterConditionOperators_GREATER_THAN":"Greater Than ","FilterPresetTIME_QUARTER__1_0":"Current and Previous Qtr","filterSummTIME_YAGO":"includes same %{0} last year","RendererCreatedOn":"Created on:","dlgEditColumnPluralName":"Plural Name used in this report","ttRefreshReport":"Refresh report","chartTooltipGemTrend_linear":"(linear trend)","dropZoneLabels_HORIZONTAL_BAR_COL":"Series","popupMenuNumberGreaterThan":"Greater/Less Than, Equal To, etc...","dropZoneLabels_STACKED_AREA_NUM":"Measures","dlgAboutFieldDescription":"Description","RendererWithinEach":"within each {0}","loadingReportEditor":"Opening report, please wait...","VIZ_VERTICAL_BAR_DESC":"Column Bar  Chart","dlgErrFilterRankRequiredFields":"<span class='dlgError'>All fields are required for \"Top 10, etc.\".<\/span>","titleSwitchChartTypeTT":"Choose another chart type","dlgCalcNumTitle":"New Calculated Measure","dlgChartPropsShowLegend":"Show Legend","dlgAttributeFilterTitle":"Filter on %{0}","dropZoneLabels_VERTICAL_BAR_LINE_NUMCOL":"Measures - Column","errorUsedByMetric":"<b>%{0}<\/b> cannot be removed because <b>%{1}<\/b> depends on it. You need to remove <b>%{1}<\/b> first.","RendererPDFFieldsTooLong":"Unable to render report table.  The field labels used in this report are too long and cannot be displayed on a page.","VIZ_LINE_DESC":"Line Chart","filterPresetTIME_MONTH_0a1":"Current & Next Month","KioskModeSaveError":"Report saving has been disabled in this hosted demo.","linkDlgHelp":"Show a hyperlink on %{0} values that opens a Pentaho Repository File or URL.  To dynamically substitute the current %{0} value into a parameter or URL, use the string: <b>{%{0}}<\/b>","enableAutoRefresh":"Enable auto refresh","dlgErrFilterNoSelection":"<span class='dlgError'>Please select at least one item from the list.<\/span>","VIZ_PCT_STACKED_HORIZONTAL_BAR":"100% Stacked Bar","dlgPageSetupCancelTitle":"Discard all changes and close dialog","filterPresetTIME_DATE_1":"tomorrow","filterPresetTIME_DATE_0":"today","selectSchemaNewDS":"Create Data Source","dlgChartPropsDomainTitle":"Domain Limit","dlgPageSetupExcelPageFormatLegal":"Legal","dropZoneLabels_PCT_STACKED_HORIZONTAL_BAR_ROW":"Y-axis","dropZoneLabels_LINE_ROW":"X-Axis","dlgTrendNumberPeriodType":"Period type","dlgPageSetupAdjustTo":"Adjust to:","promptUsedByFilter":"If you remove <b>%{0}<\/b>, then the Numeric Filter (Greater/Less Than, Top 10, etc.) will also be removed.","summaryMetricEditTitle":"Edit % of, Rank, Running Sum","refreshButton":"Refresh Report","dlgChartPropsBulletCircle":"Circle","parameterUiCSV":"CSV","dlgChartPropsAxisTitle":"Primary Axis","dropZoneLabels_BULLET_STYLE":"Bullet Style","popupMenuNumberUserDefNumber":"User Defined Measure","VIZ_MULTIPLE_PIE_DESC":"Pie Chart","dropZoneLabels_HEATGRID_COLOR":"Color By","dlgAttributeFilterChooseValueLabel":"Choose values from list","Launcher.NEW_ANALYZER_REPORT":"New<br/>Analyzer Report","dlgPageSetupFitTall":"tall","filterSummMixed":"includes %{0}","errorUsedByTrendMetric":"<b>%{0}<\/b> cannot be removed because the trend measure <b>%{1}<\/b> depends on it. You need to remove <b>%{1}<\/b> first.","dlgErrGeneric":"<span class='dlgError'>Oops. There was an error. Please try again, or contact your administrator.<\/span>","errorSessionTimeout":"Your session has expired, and you will be redirected to the login page.\"","errorSaveReport":"Error in saving report.","popupMenuCondFormatDataTrendArrowGR":"Trend Arrow: Green-Red","successSaveReport":"Report saved successfully.","popupMenuNumberSubtotals":"Subtotals (Sums, Averages, etc.)","linkDlgOpenCurrent":"Current Window","menuAddFilter":"Add Filter on %{0}...","dlgAttributeFilterDatePickerTitle":"Select %{0} using dates","FilterSummTIME_YAGO":"same {0} last year","linkDlgTitle":"Link on %{0}","filterPresetTIME_MONTH_n12a0":"Current & Same Month Year Ago","reportAdminActionLog":"Log","actionSort":"Sorting by %{0}","dropZoneLabels_SCATTER_Z":"Size By","dropZoneLabels_SCATTER_X":"X-Axis","dropZoneLabels_SCATTER_Y":"Y-Axis","dlgChartPropsTitle":"Chart Options","filterPresetTIME_YEAR_n1a0":"Current & Previous Year","dropZoneLabels_STACKED_VERTICAL_BAR_NUM":"Measures","dlgPageSetupPageFormat":"Page Format","infoAddNumberField":"Drag a measure field to see report data","chartTooltipFooterSelectedSingle":"<hr/>%{0} item selected","actionRemove":"Removing %{0}","popupMenuExportXLS":"To Excel...","dlgChartPropsOtherTitle":"Other","btnTitleShowLayout":"Rearrange fields on the report (Ctrl+Alt+Y)","dropZoneLabels_BOXPLOT_PCT75":"75% Percentil","actionChartResize":"Resizing Chart Report","popupMenuHyperlink":"Hyperlink...","dlgPageSetupPortrait":"Portrait","dlgAttributeFilterParamName":"Parameter Name","dlgDrillthroughUnselectAll":"Unselect All","linkDlgBrowseButton":"Browse...","ReportErrorCalculatedNumberInvalidFormula":"Invalid formula definition. Details: {0}","dlgTrendNumberPct":"% of change from previous period","RendererGrandForAll":"for All","InvalidAnalysisArea":"This report cannot be opened. It is based on an AnalysisArea that has been (temporary) disabled by the Administrator","ttShowHideFields":"","VIZ_STACKED_VERTICAL_BAR":"Stacked Column","dlgDrillthroughSelectAll":"Select All","dlgReportXMLTitle":"Report Definition","refreshPanelCancelMsg":"Operation was canceled.","dlgChartPropsAxisTitleBar":"Axis","VIZ_SCATTER_DESC":"Scatter Chart","dlgPageSetupExportTitle":"Save settings to report, generate export and then close this dialog","fieldTooltipMoreLink":"Tell me more...","ExceededMaxSelectionItems":"You have selected too many values, only the first {0} have been selected.","dlgAlertTitle":"Alert","dropZoneLabels_CIRCLE":"Circle","dlgNumberSubtotalCount":"Count","dropZoneLabels_BOXPLOT_PCT95":"95% Percentil","btnLabelOK":"OK","actionSelectionFilterDisabledTooltip":"Chart selections have been disabled because this report contains more than one field in the Columns zone.","RendererPDFWidthTooWide":"Unable to render report because the total width of the row field headers exceeds the page width.","emptyDropZone":"","selectSchemaTitle":"Select Data Source","reportHelpGettingStarted":"Need help getting started?","chartTooltipFooterHyperlink":"Double-click to %{0}","filterPresetTIME_QUARTER_n1":"Previous Qtr","dropZoneLabels_SHOW_LABELS":"Show Labels","actionShowChart":"Showing as Chart","dlgSharedNumFormat":"Format","dlgAttributeFilterSelectDatePicker":"(Select from date picker)","popupMenuNumberSortHighLow":"Sort %{0} High&#8594;Low","RendererFiltersUsed":"Filters Used:","dlgChartPropsBackgroundTitle":"Background","dlgNumericFilterWhereValue":"where value is","actionChartType":"Changing Chart Type","dlgAttributeFilterNext":"Next","filterPresetTIME_WEEK_0a1":"Current & Next Week","FilterPresetTIME_DATE__1":"Yesterday","actionEdit":"Editing %{0}","ttRedo":"Redo (Ctrl+Y)","dlgReportOptionsEmptyCellsValue":"In blank Measure cells, show:","linkDlgFileLabel":"File","btnLabelShowFilters":"Show Filters","dlgErrNumberFormatOrDecimalRequired":"<span class='dlgError'>Measure format and decimal places are required fields.<\/span>","dropZoneLabels_COLUMN_LABEL_ANCHOR_NONE":"None","dlgChartPropsEmptyCellMode_GAP":"Show Gap","dlgTrendNumberShowAs":"Show trend as","FilterPresetTIME_YEAR1":"Next Year","FilterPresetTIME_YEAR0":"Current Year","dlgDrillthroughTitle":"Select Drill-Through Columns","actionExcludeSelectedItems":"Exclude Selection Items","infoExceededMaxSelectionItems":"You have selected too many values, only the first %{0} have been selected.","actionEditFilter":"Editing Filter","filterPresetTIME_QUARTER_0a1a2a3":"Current & Next 3 Qtrs","dropZoneLabels_GRID_LINE_COL":"Add'l Charts","dlgPageSetupPdfPageFormatLedger":"Ledger","filterPresetTIME_MONTH_1":"Next Month","filterPresetTIME_MONTH_0":"Current Month","dlgAttributeFilterAddAnother":"Add another value","actionImport":"Importing Report","metricRSUM":"Running Sum of %{0}","popupMenuAttributeSort":"Sort","dlgTrendNumberDelta":"Delta from previous period","dropZoneLabels_COLUMN_LABEL_ANCHOR_CENTER":"Center","FilterSummCONTAIN":"contains {0}","dlgErrFilterConditionRequiredFields":"<span class='dlgError'>All fields are required for each condition in \"Greater/Less Than, Equal to, etc.\".<\/span>","dropZoneLabels_VERTICAL_BAR_LINE_NUMLINE":"Measures - Line","FilterSummDATE_PREVIOUS":"yesterday","dropZoneLabels_TREND_TYPE_NONE":"None","ropZoneLabels_GRAD_BLUE":"Blue Scale","ttHideFilterPane":"Hide filter pane","popupMenuCondFormatColorScaleGYR":"Color Scale: Green-Yellow-Red","ropZoneLabels_GRAD_GRAY":"Gray Scale","popupMenuViewerShowReport":"Show Report as Table/Chart","errorGenerateReport":"There was an error refreshing your report. Your last change has been undone.","dropZoneLabels_VALUE_ANCHOR_DOTS_TOP":"Above","dlgSummaryEditPctOf":"% of ","filterSummMetricGREATER_THAN":"<b>%{METRIC}<\/b> is greater than %{OP1} for each %{ATTR}","btnLabelSave":"Save","dropZoneLabels_MULTIPLE_PIE_COL":"Multi-Pie","dropZoneLabels_COLORSET":"Color","dlgChartPropsBulletDiamond":"Diamond","actionHideSubtotal":"Hiding Subtotal for %{0}","linkDlgParmName":"Destination Parameter","dlgChartPropsSizeByNegativesModeTitle":"Treat Negative Values as","actionUndo":"Undo %{0} (Ctrl+Z)","dropZoneLabels_SUNBURST_ROW":"Slices","errorEmailNewReport":"You must save the report first before emailing it.","dlgErrFilterMetricEmpty":"<span class='dlgError'>Filter has to have at least one condition.<\/span>","dlgSelectionValues":"Selection Items","filterValuesSummaryAll":"Showing all %{0} values","filterTitleNone":"No Filters","popupMenuNumberSummary":"% of, Rank, Running Sum...","fieldGroupNoValue":"Not yet classified","dropZoneLabels_PIVOT_FULL_ROW":"Rows","promptMoveFieldHierarchy":"<b>%{0}<\/b> has to be on the same axis as <b>%{1}<\/b>. Click 'OK' to move all fields.","chartAxisTitleMultipleDimText":"%{0} and %{1}","dlgReportOptionsEmptyCells":"Blank (Empty) Cells","filterSummTIME_AGO":"includes %{0} %{1} ago","popupMenuCondFormatDataBarGreen":"Data Bar: Green","btnLabelHideFilters":"Hide Filters","popupMenuNumberCalculated":"Calculated Measure...","dlgChartPropsEmptyCellModeTitle":"Empty Cell Treatment (Line and Area charts only)","toolbarNew":"Create a new report","FilterPresetTIME_MONTH0":"Current Month","filterOpString_EQUAL":"Include","popupMenuCondFormatDataTrendArrowRG":"Trend Arrow: Red-Green","FilterPresetTIME_MONTH1":"Next Month","dlgChartPropsBackgroundFillType":"Fill Type","ttGeneral":"General","FilterSummNone":"None","dlgNumericFilterCondition":"Greater / Less Than, Equal to, etc.","linkDlgTooltip":"Tool Tip:","dropZoneLabels_VALUE_POSITION_NONE":"None","dlgReportOptionsFreezePanes":"Freeze Panes in Table","actionRemoveFilter":"Removing Filter on %{0}","actionShow":"Showing %{0}","dlgSummaryEditBaseNumber":"Base Measure","dlgDatePickerDateBegin":"Begin Date","dlgNumericFilterBy":"by","dlgSharedErrorValidNumber":"Please specify a valid numeric value.","ttClearSearch":"Clear Search","dlgErrFieldNameFormatEmpty":"<span class='dlgError'>Please enter value for name, format and decimal places.<\/span>","fieldTypes_PROPERTY":"Member Property","actionKeepSelectedItems":"Keep Only Selection Items","filterSummEQUAL":"includes %{0}","dlgChartPropsLabelsFont":"Font","reportNewName":"Unsaved Report","reportRestriced":"is restricted as following:","dlgAttributeFilterNotContains":"Doesn't Contain ","errorBadReport":"Cannot load the report: %{0}","ttViewOptions":"View Options","measureNoNumber":"No Measure Field","dlgPageSetupPDFTitle":"Export to PDF","dlgChartPropsMultiChartRangeScopeTitle":"Axis Auto Range for Charts","linkFileOpenError":"Unable to open Pentaho solution repository file","menuMembSHOW_ALL":"Show All <b>%{0}<\/b>","linkRequiredURL":"URL is a required field.","dlgPageSetupPdfPageFormatLetter":"Letter","filterPresetTIME_WEEK_0a1a2a3":"Current & Next 3 Weeks","linkRequiredFile":"Please select a valid repository file.","filterPresetTIME_DATE_0a1":"today & tomorrow","btnLabelClose":"Close","dlgEditColumnOrigPluralName":"Original Plural Name","menuHideGrandTotalRow":"Hide Grand Totals for Rows","dlgPageSetupPdfPageFormatLegal":"Legal","dlgChartPropsBulletTriangle":"Triangle","dlgSharedNumFormatPct":"Percentage (%)","dlgReportPropsCube":"Based on Cube","popupMenuAttributeShowSubtotals":"Show Subtotals","dropZoneLabels_SHOW_AS_GAPS":"Show as Gaps","linkDlgOpenIn":"Open In:","FilterSummDATE_NEXT":"tomorrow","dlgCSVDownloadTitle":"Export to CSV","dropZoneLabels_SUNBURST_SIZE":"Size By","errorDlgLoad":"Failed to open dialog.","actionNonVisual":"Toggling Non-Visual Grand Total","dropZoneLabels_VALUE_ANCHOR_DOTS_LEFT":"Left","VIZ_HORIZONTAL_BAR":"Bar","dlgInfoFilterOnParent":"<span class='dlgInfo'>The list of values has been reduced due to your filter on %{0}.<\/span>","dlgSharedNumFormatExp":"Expression","dlgReportPropsLocation":"Folder Location","dlgErrFilterMaxExpressions":"<span class='dlgError'>There can be at most %{0} expressions in a filter.<\/span>","dlgPageSetupNormalSize":"% normal size","dropZoneLabels_PCT_STACKED_VERTICAL_BAR_ROW":"X-Axis ","dropZoneLabels_GRID_HORIZONTAL_BAR_NUM":"Measures","actionMoveHierarchy":"Moving Levels","dlgTrendNumberValue":"Value of previous period","dropZoneLabels_NONE":"None","dropZoneLabels_GRID_VERTICAL_BAR_ROW":"X-axis","VIZ_TREEMAP_DESC":"Treemap Chart","ReportErrorLookup":"Your data does not contain any {0} values on or near {1}   ","dlgPageSetupExcelPageFormatExecutive":"Executive","RendererRankAcrossRows":"across row fields","filterAttrViewer":"Values","btnLabelBack":"Back","dropZoneLabels_STACKED_AREA_ROW":"X-Axis","actionRename":"Renaming Field","FilterSummMetricEQUAL":"{0} is equal to {2} for each {1}","VIZ_HEATGRID":"Heat Grid","dlgAboutFieldMDX":"MDX","VIZ_HORIZONTAL_BAR_DESC":"Bar Chart","filterSummMetricLESS_THAN_EQUAL":"<b>%{METRIC}<\/b> is less than or equal to %{OP1} for each %{ATTR}","dlgChartPropsBackDefaultGradient":"Default Gradient","dlgCSVDownloadFormatting":"Keep Measure Formatting","popupMenuActionAbout":"About this Report...","promptOverwriteReport":"Report named <b>%{0}<\/b> already exists in folder <b>%{1}<\/b> (Note: report name is case-insensitive). Do you want to overwrite the existing report?","dlgAttributeFilterCurrently":"Currently","dropZoneLabels_VALUE_ANCHOR_DOTS_CENTER":"Center","filterSummMetricEQUAL":"<b>%{METRIC}<\/b> is equal to %{OP1} for each %{ATTR}","ttMoreAction":"More actions and options","dlgReportOptionsNonVisual":"Also display totals that include filtered out values","chartTooltipHyperlinkDefaultTitle":"open hyperlink","dlgReportOptionsFreezeColumns":"Freeze column headers","dropZoneLabels_LINE_COL":"Series","dlgTrendNumberTrendOn":"Trended Measure","dlgErrFilterMaxMembers":"<span class='dlgError'>There can be at most %{0} values in a filter.<\/span>","progressLoading":"Loading ...","reportAdminActionClearCache":"Clear Cache","errorInvalidAnalysisArea":"This report cannot be opened since it was built on an Analysis Area that is currently unavailable. Please contact your Administrator.","dropZoneLabels_TREEMAP_SIZE":"Size By","dlgReportOptionsDrillThroughColumns":"Select Columns","btnLabelHideLayout":"Hide Field Layout","dropZoneLabels_TRIANGLE":"Triangle","filterPresetTIME_YEAR_0a1":"Current & Next Year","actionHideGrandTotal":"Hiding Grand Total","filterSummAFTER":"is after (and includes) %{0}","ttChartType":"Choose chart type to show report","dlgDatePickerDate":"Date","dlgChartPropsLabelsTitle":"Labels","FilterPresetTIME_WEEK__1":"Previous Week","dlgReportOptionsDrillThrough":"Cell Drill-Through","fieldSourceTime":"None","ReportErrorMissingAggregator":"Your last operation involves a calculated measure that uses an unsupported total type.  Try changing the total type from Aggregate to Sum for the calculated measure.  Your last change has been undone.","actionMove":"Moving %{0}","actionDrillIntoChart":"Drill into chart","dlgSummaryEditPctOfColGrand":"Column (Grand Total Column is 100%)","VIZ_PCT_STACKED_VERTICAL_BAR":"100% Stacked Column","RendererNoValue":"None","ResultLimitExceeded":"This report is too big to display. Please add more filters or remove some fields.","chartTooltipGemInterp_linear":"(linear interpolation)","dropZoneLabels_CHART_OPTIONS":"Chart Options...","OpenMondrianConnection":"Opening Mondrian connection: {0}","dlgTitleError":"Error","VIZ_MULTIPLE_PIE":"Pie","dlgChartPropsSecondaryAxisTitle":"Secondary Axis (Scatter and Column-Line Combo charts only)","dlgNumericFilterTop":"Top","dropZoneLabels_GRID_HORIZONTAL_BAR_COL":"Add'l Charts","dropZoneLabels_LINE_NUM":"Measures","ttReset":"Go back to the last saved version of the report (CTRL+Q)","dropZoneLabels_DIAMOND":"Diamond","disableAutoRefresh":"Disable auto refresh","dlgAboutFieldRenamed":"NOTE: Renamed to \"%{0}\" in this report.","filterSelectionSummarySingle":"%{0} value selected","chartTooltipFooterContentlink":"Double-click to update linked content","dlgChartPropsSizeByNegativesMode_USE_ABS":"Absolute","FilterPresetTIME_MONTH__1_0":"Current and Previous Month","warnSortMetric":"<b>%{0}<\/b> is sorted by <b>%{1}<\/b> within each <b>%{2}<\/b>.","dropZoneLabels_VALUE_ANCHOR_DOTS_RIGHT":"Right","filterMatchesSummarySingle":"Showing %{0} match","memberPropertiesAddProps":"All Properties","dropZoneLabels_GRID_VERTICAL_BAR_NUM":"Measures","errorClearCache":"Error in clearing cache","openNewAnalyzerReport":"Analysis Report","dlgTrendNumberNumPeriods":"Number of periods","actionRemoveNumericFilter":"Removing Numeric Filter","FilterPresetTIME_MONTH0_1_2_3":"Current and Next 3 Months","dropZonePlaceholder_string":"Drop Level Here","linkDlgSampleURL":"E.g. http://search.yahoo.com/search?p={%{0}}","dlgPageSetupExcelPageFormatEnvelopeMonarch":"Envelope Monarch","dlgChartPropsBackgroundFillTypeNone":"None","FilterSummSimple":"{0} values","chartTooltipFooterSelectedMany":"<hr/>%{0} items selected","dlgSummaryEditRankWithin":"Rank within","parameterUiDesc":"What type of file would you like this schedule to create?","filterHintForFind":"<i>For more values, use \"Find\" ...<\/i>","FilterSummMetricGREATER_THAN_EQUAL":"{0} is greater than or equal to {2} for each {1}","RendererAboutReport":"About this Report","FilterPresetTIME_QUARTER__1":"Previous Qtr","dlgNumberSubtotalTotal":"Total","FilterSummMetricLESS_THAN_EQUAL":"{0} is less than or equal to {2} for each {1}","dropZoneLabels_3_STEP":"3 Steps","popupMenuNumberCondFormat":"Conditional Formatting","btnLabelApply":"Apply","VIZ_PCT_STACKED_VERTICAL_BAR_DESC":"100% Stacked Column Bar Chart","fieldTypes_ATTRIBUTE":"Level (Names, Categories, etc.) ","dlgChartPropsLabelStyleTypeBold":"Bold","dlgSharedNumFormatGeneral":"General Number","dlgSummaryEditPctOfEach":"Each","btnLabelCancel":"Cancel","dlgSharedNumDecimalPlaces":"Decimal Places","selectSchemaDesc":"Specify which data source you want to analyze.  Each data source consists of a schema and a cube in the schema.  This will determine which fields you will have available.","actionKEEP":"Keeping only %{0}","dlgNumberSubtotalAggregate":"Aggregate","popupMenuAttributeTop10":"Top 10, etc...","popupMenuByCategory":"by Category ","FilterSummTIME_NEXT":"next {0}","infoCancelReportRefresh":"Report refresh was canceled.","dlgNumberSubtotalSum":"Sum","linkFileRemoved":"The previously selected Pentaho Solution Repository file no longer exists and has been removed from this link.","filterMatchesSummaryPartial":"Showing %{0} of %{1} matches","errorLoadReport":"There was an error refreshing your report.","dlgAttributeFilterAndIncludes":"(and incl.)","chartTreeMapRootCategoryLabel":"Root","ttUndo":"Undo (Ctrl+Z)","FilterSummBETWEEN":"is from {0} To {1}","dlgTrendNumberMovingAvg":"Average of previous periods","ttEditFilder":"Edit filter","toolbarSaveAs":"Save current report as","fieldListFind":"Find","popupMenuNumberTrend":"Trend Measure...","RendererFilterSummary":"Filter Summary","FilterPresetTIME_YEAR__1":"Previous Year","filterPresetTIME_QUARTER_n4a0":"Current & Same Qtr Year Ago","ErrorContentGenerator":"Exception occurred in Pentaho Analyzer content generator.  Please check the server log files.","RendererNoDataWarning":"This report has no data.","actionReportOptions":"Updating Report Options","dlgNumberSubtotalsTitle":"Average, Max, Min, etc.","FilterSummTIME_RANGE_NEXT":"next {0} {1}","actionResetReport":"Resetting Report","dlgTrendNumberMovingSum":"Sum of previous periods","dlgChartPropsAxisAutoRange":"Auto Range","RendererPDFFontException":"Unable to load custom font for rendering Analyzer PDF report.  Please check the font path: {0}","FilterPresetTIME_WEEK1":"Next Week","dlgChartPropsBackgroundColor":"Fill Color","FilterPresetTIME_WEEK0":"Current Week","filterSummMetricBETWEEN":"<b>%{METRIC}<\/b> is between %{OP1} and %{OP2} for each %{ATTR}","errorOutdatedReport":"Oops! It looks like some of your report fields are out of sync with the current analysis area. Please remove the field: %{0}.","popupMenuRemoveFromReport":"Remove from Report","emptyVizHelp":"(Marked with a <span style='color: red'>red asterisk<\/span> in the layout panel.)","popupMenuNumberSortValue":"Values","popupMenuActionResetColSize":"Reset Column Sizes","popupMenuAttributeAlsoShow":"Also Show","selectSchemaDeleteDS":"Delete Data Source","dlgSummaryEditRank":"Rank by","filterSummSimple":"<a id='F_%{0}_%{1}' onclick=\"cv.getActiveReport().filterDlg.showAttrSelection('%{0}','%{1}','%{2}')\">%{2} values<\/a>","popupMenuAddToReport":"Add to Report","infoCancelReportSave":"Saving report was canceled.","linkDlgFile":"Pentaho Repository File","dlgChartPropsEmptyCellMode_ZERO":"Treat as Zero","FilterPresetTIME_YEAR__1_0":"Current and Previous Year","popupMenuActionOptions":"Report Options...","dropZoneLabels_LAYOUT":"Layout","errorOpenReport":"Failed to open report definition.","memberPropertyHelp":"%{0} is a member property of %{1}.","dropZoneLabels_GRID_HORIZONTAL_BAR_ROW":"X-axis","dlgSummaryEditPctOfReportGrand":"Grand Total (Table Grand Total is 100%)","FilterPresetTIME_WEEK0_1":"Current and Next Week","selectSchemaEditDS":"Edit Data Source","RendererRankAcrossCol":"across column fields","filterSummMetricBOTTOM":"<b>Bottom %{COUNT}<\/b> %{ATTR} by %{METRIC}","FilterSummTIME_AGO":"{0} {1} ago","RendererDrilldown":"- Double-click to show {0}","dropZoneLabels_HORIZONTAL_BAR_ROW":"Y-Axis","filterConditionOperators_LESS_THAN":"Less Than","filterSummMetricIS_NOT_EMPTY":"<b>%{METRIC}<\/b> is not empty for each %{ATTR}","filterSummMetricGREATER_THAN_EQUAL":"<b>%{METRIC}<\/b> is greater than or equal to %{OP1} for each %{ATTR}","emptyVizArea":"Drag an available field to the required layout zones.","FilterSummAFTER":"is after {0}","ttSwitchToTable":"Switch to table format (Ctrl+Alt+C)","actionSHOW_ALL":"Showing all %{0}","RendererPDFTooManyCols":"Unable to render report table.  The table contains more than {0} columns.","ttShowHideFilters":"Click to show/hide filters (Ctrl+Alt+T)","dlgNumericFilterBottom":"Bottom","DrillRowCountWarning":"- Warning:  Only showing the first {0} of {1} rows.","FilterPresetTIME_WEEK__1_0":"Current and Previous Week","dlgEditColumnOrigName":"Original Name","dlgTrendNumberNoteText":"To trend, use time attributes only (e.g. Year, Quarter, Month).<br>To select a time attribute, you need to include one in the report.","dlgPageSetupFitWide":"page(s) wide by","dropZoneLabels_VALUE_ANCHOR_DOTS_NONE":"None","dropZoneLabels_PCT_STACKED_VERTICAL_BAR_NUM":"Measures","dropZoneLabels_PCT_STACKED_HORIZONTAL_BAR_COL":"Color Stack","refreshing":"Refreshing","dropZoneLabels_HEATGRID_ROW":"X-axis","dlgChartPropsSizeByMeasureTitle":"Size By Measure","chartSunburstRootCategoryLabel":"Root","VIZ_STACKED_VERTICAL_BAR_DESC":"Stacked Column Bar Chart","dlgChartPropsLegendPosBottom":"Bottom","popupMenuNumberColNameFormat":"Column Name and Format...","missingFieldLabel":"(Field Missing!)","filterTemplateNone":"not defined","warnAutoRefreshPanel":"Report definition has been modified.","FilterPresetTIME_DATE__1_0":"Today and Yesterday","ReportErrorNumericFilterOnSummary":"A numeric filter (e.g. Top 10, Greater/Less than) can not be applied to a summary metric: % of, Rank, Running sum etc. The measure you are attempting to filter includes a summary metric as part of its formula. The filter will be removed.","dropZoneLabels_SCATTER_NUM":"X, Y and Size","actionRedo":"Redo %{0} (Ctrl+Y)","fieldTypes_TIME_SECOND":"Time - Second ","dropZoneLabels_TREND_TYPE_LINEAR":"Linear","dlgChartPropsSizeByNegativesMode_NEG_LOWEST":"Smallest Value","dlgAttributeFilterLoading":"Loading values for %{0} ...","dlgChartPropsLegendTitle":"Legend","ttDeleteCondition":"Delete condition","dropZoneLabels_GRID_VERTICAL_BAR_COL":"Add'l Charts","dlgAttributeFilterLoadingShort":"Loading...","menuShowOnChart":"Show on Chart","popupMenuFilter":"Filter...","ttHelpOnFilters":"Help on Filters","filterMetricSubtitle":"Filter on <b>%{0}<\/b> where value is:","actionSwapMeasure":"Swapping with %{0}","menuMembKEEP_AND_DRILL":"Keep Only <b>%{0}<\/b> And Show <b>%{1}<\/b>","ReportErrorTrendFreeDimension":"A trend measure requires a free dimension that is not used on the report or report filters. Your last change has been undone.","dlgChartPropsLegendPos":"Position","dropZoneLabels_GRID_AREA_NUM":"Measures","filterSummMetricNOT_EQUAL":"<b>%{METRIC}<\/b> is not equal to %{OP1} for each %{ATTR}","dlgTitleInfo":"Info","dlgReportOptionsFreezeRows":"Freeze row labels","dropZoneLabels_VALUE_ANCHOR":"Data Labels:","dlgReportPropsModified":"Date Modified","dlgAttributeFilterSameLastYear":"Same %{0} last year","linkDlgOpenTab":"New Tab","dropZoneLabels_VALUE_POSITION_OUTSIDE":"Outside","filterPresetTIME_DATE_n1a0":"today & yesterday","ttRemoveFilder":"Remove filter","dropZoneLabels_GRID_AREA_COL":"Add'l Charts","dropZoneLabels_VALUE_COLUMN_ANCHOR":"Column Data Labels:","dlgChartPropsLabelStyleTypeItalic":"Italic","dlgNumberSubtotalAverage":"Average","dlgErrFilterConditionOp2LTOp1":"<span class='dlgError'>The value of the 2nd operand should be larger than that of the first operand.<\/span>","dlgAlertWarning":"Don't show this message again for this report viewing session.","dropZoneLabels_WATERFALL_COL":"Series","metricTREND":"Trend of %{0}","dropZoneLabels_VALUE_POSITION":"Data Labels:","filterSummZoneHint":"<div class='filterPaneHint'>To add a new filter, drag a field from Available Fields to this area.<\/div>","FilterPresetTIME_MONTH__12_0":"Current and Same Month Year Ago","dropZoneLabels_PIVOT_ROW":"Rows","dlgSummaryEditPctOfEachTotal":"Column/Row Subtotal (Subtotal is 100%)","ReportException":"An exception occured in processing your report. Please try again later.","dlgSummaryEditRSUMRows":"Sum Across All Rows","trendNumberEditTitle":"Edit Trend Measure","selectSchemaAutoRefresh":"Auto Refresh Report","dlgChartPropsLegendPosRight":"Right","dlgChartPropsMultiChartRangeScope_CELL":"Independent","fieldTypes_TIME_WEEK":"Time - Week ","popupMenuTellMeAbout":"Tell me about...","dlgChartPropsEmptyCellMode_LINEAR":"Connect with Dotted Line","filterPresetTIME_WEEK_n1a0":"Current & Previous Week","btnLabelContinue":"Continue","dlgSharedNumFormatCurrency":"Currency","btnTitleHideFilters":"Hide filters (Ctrl+Alt+T)","dropZoneLabels_HEATGRID_COL":"Y-axis","calculatedEditTitle":"Edit Calculated Measure","QueryCancelledException":"The report refresh has been cancelled because it has run forover 10 minutes. If your report contains many fields,filters, and calculations, then try and make the reportsimpler, or try again later.","dlgReportPluginDataDesc":"Copy or edit the visualization state JSON below","dlgSummaryEditRankCols":"Rank Across Columns","dlgNumberSubtotalMin":"Min","filterValuesSummaryPartial":"Showing %{0} of %{1} values","dlgNumericFilterTopLabel":"Top 10, etc.","errorDuplicateItemInReport":"<b>%{0}<\/b> is already used in the report.","dlgFilterListChooseFilter1":"Choose which filter to edit (below), or","dlgFilterListChooseFilter2":"click here","dlgErrFilterInvalidValue":"<span class='dlgError'>Invalid filter options.<\/span>","dlgFilterListChooseFilter3":"to add a new filter","btnLabelShowFields":"Show Field List","Launcher.ANALYZER_REPORT":"Analyzer Report","fieldTypes_TIME_YEAR":"Time - Year ","RendererDataExported":"Date Exported:","fieldTypes_TIME_MINUTE":"Time - Minute","dlgErrFilterRequiredExpression":"<span class='dlgError'>Please enter at least one value.<\/span>","VIZ_LINE":"Line","RendererPDFTooManyRows":"Unable to render report table.  The table contains more than {0} rows.","dlgDrillthroughNoFieldsError":"Please select at least one measure or level.","fieldTypes_TIME_MONTH":"Time - Month ","dlgCalcNumSubtotalCalcDesc":"Calculate subtotals using measure formula","fieldTypeLabels_ATTRIBUTE":"Level (Names, Categories, etc.)","summaryMetricTitle":"New % of, Rank, Running Sum, etc.","dropZoneLabels_VALUE_ANCHOR_DOTS_BOTTOM":"Below","dropZoneLabels_SQUARE":"Square","parameterUiExcel":"Excel","dlgReportOptionsDrillThroughDesc":"Show drill-through links on Measure cells","ttHideFields":"Hide list of available fields","reportTableCount":"Rows: %{0}&nbsp;&nbsp;Cols: %{1}","dlgReportPropsCreated":"Date Created","RendererLocation":"Report Location:","dlgChartPropsLabelsFontDefault":"Default","dropZoneLabels_PIVOT_NUM":"Measures","refreshPanelCompleteMsg":"Report is ready.","dropZoneLabels_STACKED_VERTICAL_BAR_COL":"Color Stack","dlgPageSetupExcelPageFormatEnvelope10":"Envelope #10","warnBadFilters":"Some filters in this report are corrupted. The report will open up without these filters.","dlgAttributeFilterBefore":"Before","dlgPageSetupPdfPageFormatNote":"Note","VIZ_WATERFALL":"Waterfall","dlgSummaryEditRSUMBreakBy":"Break by","memberPropertiesMoreProps":"More Properties","warnMissingFields":"Some fields in this report have been made unavailable by the Administrator. They are:\n%{0}The report will open up without these fields. If there are calculated measures based on these fields, they will also be removed.","dlgSummaryEditPctRSUMRows":"Sum Across All Rows","popupMenuNumberSortLowHigh":"Sort %{0} Low&#8594;High","dropZoneLabels_VERTICAL_BAR_COL":"Series ","CANNOT_PRINT_VIZ":"Exports of this visualization type are currently not supported. Would you still like to export the Data Table only?","dropZoneLabels_GRID_LINE_ROW":"X-axis","dropZoneLabels_STACKED_HORIZONTAL_BAR_ROW":"Y-Axis ","titleShowChartTypeTT":"Choose chart type to show report","dlgChartPropsAxisLimitError":"Numeric values are expected for Start and Stop.","fieldTypeLabels_NUMBER":"Measure","btnLabelDone":"Done","VIZ_SCATTER":"Scatter","RelativeTimeFilterError":"Unable to create relative date member on level: {0}.  Please verify that this level has defined the AnalyzerDateFormat annotation.    ","fieldTypes_TIME_QUARTER":"Time - Quarter","dropZoneLabels_TREND_NAME_LINEAR":"Linear Trend","dlgChartPropsLineTitle":"Line Charts","actionHide":"Hiding %{0}","dropZoneLabels_VERTICAL_BAR_LINE_ROW":"X-Axis","filterPresetTIME_QUARTER_0a1":"Current & Next Qtr","dlgCSVDownloadDescription":"Please select your export options","actionAdd":"Adding %{0}","dlgChartPropsAxisStop":"Stop","menuNewReportInArea":"Using <b>%{0}<\/b>","filterTemplateExpressionOR":"or","dlgSelectionFilterTitleEXCLUDE":"Exclude Selection Items","dropZoneLabels_PROPERTIES":"Properties"};

require([
  'common-ui/vizapi/DataTable',
  'common-ui/vizapi/Events',
  'common-ui/vizapi/ccc/ccc_wrapper'
], noopFun);

var cv = {
  analyzerProperties: {"filter.include.exclude.max.count":200,"renderer.currency.symbol":"$","viz.ccc_heatgrid.args.shape":"square","viz.ccc_line.args.shape":"circle","chart.options.keepLevelOnDrilldown":true,"chart.series.colors":["#0045a1","#5f9e00","#ffc20f","#ff6600","#3c008f","#007a99","#a10067","#002255","#e03a00","#006644","#ba0025","#660088","#4d7dbd","#8fbb4d","#ffd457","#ff944d","#774db1","#4da2b8","#bd4d95","#4d6488","#e9754d","#4d947c","#cf4d66","#944dac","#99b5d9","#bfd899","#ffe79f","#ffc299","#b199d2","#99cad6","#d999c2","#99a7bb","#f3b099","#99c2b4","#e399a8","#c299cf"],"filter.selection.max.count":500,"viz.ccc_line.args.lineWidth":1},

  pentahoVisualizationHelpers: {
    "ccc_scatter": {
      isInteractionEnabled: function() { return false; },

      message: function(msgId, args){
        var msg = cvCatalog[msgId] || "";
        if(msg && args) { msg = def.format(msg, args); }
        return msg;
      }
    }
  }
};

// The following is adapted from cv_rptReport.js:
// Add the default palette to the front of the pentaho.palettes (defined in VizController.js)
// so that the VizController will pass this palette by default into the visualizations.
pentaho.palettes.unshift({
  name:   'palette analyzer',
  colors: cv.analyzerProperties["chart.series.colors"]
});

def.scope(function() {
  var svgElem = document.documentElement;
  try {
    var opts = getChartOptions();
    var viz  = pentaho.visualizations.getById("ccc_scatter");
    var jsonTable = /* <?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<message id="successGenerateReport" type="success" xmlns="http://www.pentaho.com"/>
 */{"cols":[{"id":"[Department].[Department]","pattern":"","dataReq":[{"id":"rows","level":"[Department].[Department]"}],"label":"Department","type":"string"},{"id":"[Region].[Central]~[MEASURE:0]","pattern":"","dataReq":[{"id":"color","level":"[Region].[Region]"},{"id":"size","level":"[Measures].[MeasuresLevel]"}],"label":"Central~Variance","type":"number"},{"id":"[Region].[Central]~[MEASURE:1]","pattern":"","dataReq":[{"id":"color","level":"[Region].[Region]"},{"id":"x","level":"[Measures].[MeasuresLevel]"}],"label":"Central~Actual","type":"number"},{"id":"[Region].[Central]~[MEASURE:2]","pattern":"","dataReq":[{"id":"color","level":"[Region].[Region]"},{"id":"y","level":"[Measures].[MeasuresLevel]"}],"label":"Central~Budget","type":"number"},{"id":"[Region].[Eastern]~[MEASURE:0]","pattern":"","dataReq":[{"id":"color","level":"[Region].[Region]"},{"id":"size","level":"[Measures].[MeasuresLevel]"}],"label":"Eastern~Variance","type":"number"},{"id":"[Region].[Eastern]~[MEASURE:1]","pattern":"","dataReq":[{"id":"color","level":"[Region].[Region]"},{"id":"x","level":"[Measures].[MeasuresLevel]"}],"label":"Eastern~Actual","type":"number"},{"id":"[Region].[Eastern]~[MEASURE:2]","pattern":"","dataReq":[{"id":"color","level":"[Region].[Region]"},{"id":"y","level":"[Measures].[MeasuresLevel]"}],"label":"Eastern~Budget","type":"number"},{"id":"[Region].[Southern]~[MEASURE:0]","pattern":"","dataReq":[{"id":"color","level":"[Region].[Region]"},{"id":"size","level":"[Measures].[MeasuresLevel]"}],"label":"Southern~Variance","type":"number"},{"id":"[Region].[Southern]~[MEASURE:1]","pattern":"","dataReq":[{"id":"color","level":"[Region].[Region]"},{"id":"x","level":"[Measures].[MeasuresLevel]"}],"label":"Southern~Actual","type":"number"},{"id":"[Region].[Southern]~[MEASURE:2]","pattern":"","dataReq":[{"id":"color","level":"[Region].[Region]"},{"id":"y","level":"[Measures].[MeasuresLevel]"}],"label":"Southern~Budget","type":"number"},{"id":"[Region].[Western]~[MEASURE:0]","pattern":"","dataReq":[{"id":"color","level":"[Region].[Region]"},{"id":"size","level":"[Measures].[MeasuresLevel]"}],"label":"Western~Variance","type":"number"},{"id":"[Region].[Western]~[MEASURE:1]","pattern":"","dataReq":[{"id":"color","level":"[Region].[Region]"},{"id":"x","level":"[Measures].[MeasuresLevel]"}],"label":"Western~Actual","type":"number"},{"id":"[Region].[Western]~[MEASURE:2]","pattern":"","dataReq":[{"id":"color","level":"[Region].[Region]"},{"id":"y","level":"[Measures].[MeasuresLevel]"}],"label":"Western~Budget","type":"number"}],"colors":{"[Region].[Region]":{"[Region].[Eastern]":"#0d8ecf","[Region].[Southern]":"#b0de09","[Region].[Western]":"#fcd202","[Region].[Central]":"#0000cc"},"[Measures].[MeasuresLevel]":{"[MEASURE:1]":"#0000cc","[MEASURE:2]":"#0d8ecf","[MEASURE:0]":"#b0de09"}},"formatStrings":{"currencySymbol":"$","thousandSeparator":",","[MEASURE:1]":"#,###.00","[MEASURE:2]":"#,###.00","decimalPlaceholder":".","[MEASURE:0]":"#,###.00"},"rows":[{"c":[{"f":"Executive Management","v":"[Department].[Executive Management]"},{"f":"267,360.00","v":267360},{"f":"1,776,282.00","v":1776282},{"f":"2,043,642.00","v":2043642},{"f":"-24,072.00","v":-24072},{"f":"1,507,580.00","v":1507580},{"f":"1,483,508.00","v":1483508},{"f":"15,928.00","v":15928},{"f":"1,507,580.00","v":1507580},{"f":"1,523,508.00","v":1523508},{"f":"-64,072.00","v":-64072},{"f":"1,507,580.00","v":1507580},{"f":"1,443,508.00","v":1443508}]},{"c":[{"f":"Finance","v":"[Department].[Finance]"},{"f":"-39,319.00","v":-39319},{"f":"3,106,680.00","v":3106680},{"f":"3,067,361.00","v":3067361},{"f":"-29,165.00","v":-29165},{"f":"3,039,180.00","v":3039180},{"f":"3,010,015.00","v":3010015},{"f":"-29,165.00","v":-29165},{"f":"3,039,180.00","v":3039180},{"f":"3,010,015.00","v":3010015},{"f":"-39,165.00","v":-39165},{"f":"3,039,180.00","v":3039180},{"f":"3,000,015.00","v":3000015}]},{"c":[{"f":"Human Resource","v":"[Department].[Human Resource]"},{"f":"-24,568.00","v":-24568},{"f":"3,438,863.00","v":3438863},{"f":"3,414,295.00","v":3414295},{"f":"-16,518.00","v":-16518},{"f":"3,212,200.00","v":3212200},{"f":"3,195,682.00","v":3195682},{"f":"-16,518.00","v":-16518},{"f":"3,212,200.00","v":3212200},{"f":"3,195,682.00","v":3195682},{"f":"-28,518.00","v":-28518},{"f":"3,212,200.00","v":3212200},{"f":"3,183,682.00","v":3183682}]},{"c":[{"f":"Marketing & Communication","v":"[Department].[Marketing & Communication]"},{"f":"-7,871.00","v":-7871},{"f":"3,590,423.00","v":3590423},{"f":"3,582,552.00","v":3582552},{"f":"-56,205.00","v":-56205},{"f":"3,440,110.00","v":3440110},{"f":"3,383,905.00","v":3383905},{"f":"-38,205.00","v":-38205},{"f":"3,440,110.00","v":3440110},{"f":"3,401,905.00","v":3401905},{"f":"-38,205.00","v":-38205},{"f":"3,440,110.00","v":3440110},{"f":"3,401,905.00","v":3401905}]},{"c":[{"f":"Product Development","v":"[Department].[Product Development]"},{"f":"161,478.00","v":161478},{"f":"2,997,702.00","v":2997702},{"f":"3,159,180.00","v":3159180},{"f":"-18,323.00","v":-18323},{"f":"2,548,800.00","v":2548800},{"f":"2,530,477.00","v":2530477},{"f":"-323.00","v":-323},{"f":"2,548,800.00","v":2548800},{"f":"2,548,477.00","v":2548477},{"f":"-323.00","v":-323},{"f":"2,548,800.00","v":2548800},{"f":"2,548,477.00","v":2548477}]},{"c":[{"f":"Professional Services","v":"[Department].[Professional Services]"},{"f":"331,961.00","v":331961},{"f":"20,068,039.00","v":2.0068039E7},{"f":"20,400,000.00","v":2.04E7},{"f":"350,130.00","v":350130},{"f":"18,749,870.00","v":1.874987E7},{"f":"19,100,000.00","v":1.91E7},{"f":"-359,870.00","v":-359870},{"f":"18,749,870.00","v":1.874987E7},{"f":"18,390,000.00","v":1.839E7},{"f":"-541,664.00","v":-541664},{"f":"18,749,870.00","v":1.874987E7},{"f":"18,208,206.00","v":1.8208206E7}]},{"c":[{"f":"Sales","v":"[Department].[Sales]"},{"f":"-184,603.00","v":-184603},{"f":"2,915,173.00","v":2915173},{"f":"2,730,570.00","v":2730570},{"f":"33,074.00","v":33074},{"f":"2,751,200.00","v":2751200},{"f":"2,784,274.00","v":2784274},{"f":"-16,926.00","v":-16926},{"f":"2,751,200.00","v":2751200},{"f":"2,734,274.00","v":2734274},{"f":"-26,926.00","v":-26926},{"f":"2,751,200.00","v":2751200},{"f":"2,724,274.00","v":2724274}]}]};

    var memberPalette = jsonTable.colors;
    var formatInfo = jsonTable.formatStrings;
    delete jsonTable.colors;
    delete jsonTable.formatStrings;

    var table = new pentaho.DataTable(jsonTable);
    var vizController = new pentaho.VizController();
    vizController.setDataTable(table);
    vizController.setMemberPalette(memberPalette);
    vizController.setFormatInfo(formatInfo);
    vizController.setDomNode(svgElem);
    vizController.setVisualization(viz, opts);

    // Set the SVG element with the final chart width/height
    //  so that the PNGTranscoder can detect the image size.
    var chart = vizController.chart;
    var cccChart = chart && chart._chart;
    var basePanel = cccChart && cccChart.basePanel;
    svgElem.setAttribute('width',  basePanel ? basePanel.width  : opts.width );
    svgElem.setAttribute('height', basePanel ? basePanel.height : opts.height);

  } catch(ex) {
    def.log.error(ex.message);
  }

  /* Helper functions */
  function getChartOptions(){
    var chartOptionsAttributes = [{"nodeValue":"true","nodeName":"autoRange"},{"nodeValue":"true","nodeName":"autoRangeSecondary"},{"nodeValue":"#ffffff","nodeName":"backgroundColor"},{"nodeValue":"#ffffff","nodeName":"backgroundColorEnd"},{"nodeValue":"NONE","nodeName":"backgroundFill"},{"nodeValue":"CUSTOM","nodeName":"chartType"},{"nodeValue":"ccc_scatter","nodeName":"customChartType"},{"nodeValue":"UNITS_0","nodeName":"displayUnits"},{"nodeValue":"UNITS_0","nodeName":"displayUnitsSecondary"},{"nodeValue":"#000000","nodeName":"labelColor"},{"nodeValue":"Default","nodeName":"labelFontFamily"},{"nodeValue":"12","nodeName":"labelSize"},{"nodeValue":"PLAIN","nodeName":"labelStyle"},{"nodeValue":"#ffffff","nodeName":"legendBackgroundColor"},{"nodeValue":"#000000","nodeName":"legendColor"},{"nodeValue":"Default","nodeName":"legendFontFamily"},{"nodeValue":"RIGHT","nodeName":"legendPosition"},{"nodeValue":"12","nodeName":"legendSize"},{"nodeValue":"PLAIN","nodeName":"legendStyle"},{"nodeValue":"CIRCLE","nodeName":"lineShape"},{"nodeValue":"2","nodeName":"lineWidth"},{"nodeValue":"3","nodeName":"maxChartsPerRow"},{"nodeValue":"1000","nodeName":"maxValues"},{"nodeValue":"true","nodeName":"showLegend"},{"nodeValue":"uri","nodeName":"xmlns"}];
    var opts = {};
    for (var i = 0; i < chartOptionsAttributes.length; i++) {
      var attribute = chartOptionsAttributes[i];
      switch(attribute.nodeName){
        case 'lineShape':
        case 'lineWidth':
        case 'scatterPattern':
        case 'scatterColorSet':
        case 'scatterReverseColors':
          break;

        default:
          opts[attribute.nodeName] = attribute.nodeValue;
      }
    }

    opts.customChartType = "ccc_scatter";

    // DOM limitations cause width and height 
    // to reach the visualization as undefined,
    // (in VizController, 
    //  this.visualPanelElement.offsetWidth and this.visualPanelElement.offsetHeight
    //  do not work correctly)
    // These end up overwriting those undefined values...
    opts.width  = 981;
    opts.height = 733;

    // Override with json options
    var config =  [{"args":{"filter.selection.max.count":500,"pattern":"GRADIENT","colorSet":"ryg","labelsOption":"none","trendType":"none","trendLineWidth":"1","colorScaleType":"linear","colors":["#FF0000","#FFBF3F","#FFFF00","#BFDF3F","#008000"]},"visualizationId":"ccc_scatter"}];
    var args = config[0] && config[0].args;
    if (args) {
      for(var p in args){
        if(!(p in opts)) { opts[p] = args[p]; }
      }
    }

    var multiChartOverflow = params.get('multiChartOverflow');
    if(multiChartOverflow) { opts.multiChartOverflow = multiChartOverflow; }

    return opts;
  }
});
